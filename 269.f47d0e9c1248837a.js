"use strict";(self.webpackChunkairways=self.webpackChunkairways||[]).push([[269],{9269:(pt,u,o)=>{o.r(u),o.d(u,{CartModule:()=>it});var m=o(6895),x=o(4006),i=o(7155),d=o(1561),C=o(4466),b=o(7741),T=o(7803),y=o(5017),Z=o(727),M=o(9841),w=o(4004),t=o(4650),A=o(9672),g=o(4859),k=o(7392),U=o(6709);function F(e,a){1&e&&t._UZ(0,"th",28)}function N(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"td",29)(1,"mat-checkbox",30),t.NdJ("click",function(l){return l.stopPropagation()})("change",function(l){const r=t.CHM(n).$implicit,s=t.oxw(2);return t.KtG(l?s.selection.toggle(r):null)}),t.qZA()()}if(2&e){const n=a.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("checked",c.selection.isSelected(n))("aria-label",c.checkboxLabel(n))}}function v(e,a){1&e&&(t.TgZ(0,"th",28),t._uU(1,"No."),t.qZA())}function O(e,a){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.flights[0].flightCode," ")}}function Q(e,a){1&e&&(t.TgZ(0,"th",32),t._uU(1,"Flight"),t.qZA())}function P(e,a){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.AsE("",n.search.to," - ",n.search.from,"")}}function Y(e,a){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t._UZ(2,"br"),t.YNc(3,P,2,2,"ng-container",33),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.AsE(" ",n.search.from," - ",n.search.to," "),t.xp6(2),t.Q6J("ngIf",2===n.search.way)}}function D(e,a){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Type Trip"),t.qZA())}function B(e,a){1&e&&(t.ynx(0),t._uU(1,"One way"),t.BQk())}function E(e,a){1&e&&(t.ynx(0),t._uU(1,"Round Trip"),t.BQk())}function $(e,a){if(1&e&&(t.TgZ(0,"td",29),t.YNc(1,B,2,0,"ng-container",33),t.YNc(2,E,2,0,"ng-container",33),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("ngIf","1"===n.search.way),t.xp6(1),t.Q6J("ngIf","2"===n.search.way)}}function S(e,a){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Data & Time"),t.qZA())}function I(e,a){if(1&e&&(t.TgZ(0,"td",29),t.ynx(1),t._uU(2),t.ALo(3,"date"),t.BQk(),t.ynx(4),t._uU(5),t.ALo(6,"date"),t.BQk(),t.qZA()),2&e){const n=a.$implicit;t.xp6(2),t.lnq(" ",t.xi3(3,6,n.flights[0].date,"d MMMM, y,")," ",n.flights[0].departureTimeFrom," \u2014 ",n.flights[0].departureTimeTo,""),t.xp6(3),t.lnq(" ",t.xi3(6,9,n.flights[1].date,"d MMMM, y,")," ",n.flights[1].departureTimeFrom," \u2014 ",n.flights[1].departureTimeTo,"")}}function J(e,a){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Passengers"),t.qZA())}function z(e,a){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij("",n.search.passengers.adult," x Adult ")}}function R(e,a){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij("",n.search.passengers.child," x Child ")}}function j(e,a){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij("",n.search.passengers.infant," x Infant ")}}function q(e,a){if(1&e&&(t.TgZ(0,"td",29),t.YNc(1,z,2,1,"ng-container",33),t.YNc(2,R,2,1,"ng-container",33),t.YNc(3,j,2,1,"ng-container",33),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("ngIf",0!==n.search.passengers.adult),t.xp6(1),t.Q6J("ngIf",0!==n.search.passengers.child),t.xp6(1),t.Q6J("ngIf",0!==n.search.passengers.infant)}}function H(e,a){1&e&&(t.TgZ(0,"th",28),t._uU(1,"Price"),t.qZA())}function L(e,a){if(1&e&&(t.TgZ(0,"td",34),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.AsE(" ",n.currency,"",n.totalSum.toFixed(2)," ")}}function G(e,a){1&e&&t._UZ(0,"th",28)}function K(e,a){if(1&e&&(t.TgZ(0,"td",35)(1,"button",36)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,37)(6,"button",38)(7,"span"),t._uU(8,"Delete"),t.qZA()(),t.TgZ(9,"button",38)(10,"span"),t._uU(11,"Edit"),t.qZA()()()()),2&e){const n=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",n)}}function W(e,a){1&e&&t._UZ(0,"tr",39)}function X(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"tr",40),t.NdJ("click",function(){const p=t.CHM(n).$implicit,r=t.oxw(2);return t.KtG(r.selection.toggle(p))}),t._uU(1," > "),t.qZA()}}function V(e,a){if(1&e&&(t.TgZ(0,"table",11),t.ynx(1,12),t.YNc(2,F,1,0,"th",13),t.YNc(3,N,2,2,"td",14),t.BQk(),t.ynx(4,15),t.YNc(5,v,2,0,"th",13),t.YNc(6,O,2,1,"td",16),t.BQk(),t.ynx(7,17),t.YNc(8,Q,2,0,"th",18),t.YNc(9,Y,4,3,"td",14),t.BQk(),t.ynx(10,19),t.YNc(11,D,2,0,"th",13),t.YNc(12,$,3,2,"td",14),t.BQk(),t.ynx(13,20),t.YNc(14,S,2,0,"th",13),t.YNc(15,I,7,12,"td",14),t.BQk(),t.ynx(16,21),t.YNc(17,J,2,0,"th",13),t.YNc(18,q,4,3,"td",14),t.BQk(),t.ynx(19,22),t.YNc(20,H,2,0,"th",13),t.YNc(21,L,2,2,"td",23),t.BQk(),t.ynx(22,24),t.YNc(23,G,1,0,"th",13),t.YNc(24,K,12,1,"td",25),t.BQk(),t.YNc(25,W,1,0,"tr",26),t.YNc(26,X,2,0,"tr",27),t.qZA()),2&e){const n=t.oxw();t.Q6J("dataSource",n.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function tt(e,a){1&e&&t._uU(0,"Not Found")}const at=[{path:"",component:(()=>{class e{constructor(n){this.ticketsFacade=n,this.basket=[],this.displayedColumns=["select","flightCode","flight","typeTrip","dataTime","passengers","price","edit"],this.dataSource=new i.by(this.basket),this.selection=new y.Ov(!0,[]),this.totalSum=0,this.currency="",this.subscription=new Z.w0}ngOnInit(){this.subscription.add(this.ticketsFacade.selectGetBasket$.subscribe(n=>{this.basket.push(n)})),this.subscription.add((0,M.a)(this.ticketsFacade.selectGetBasket$,this.ticketsFacade.currency$).pipe((0,w.U)(([n,c])=>{const l=n.flights[0].price[c],p=l.replace(/[^\d,]/g,"").replace(",","."),r=l.replace(/[^\p{Sc}]/gu,""),s=+p*+n.search.way,h=s*n.search.passengers.adult,_=s*n.search.passengers.child*.7,f=s*n.search.passengers.infant*.4;this.totalSum=.4*h+h+(.3*_+_)+(.2*f+f),this.currency="PLN"===c?"zl":r})).subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row ${n.number+1}`:(this.isAllSelected()?"deselect":"select")+" all"}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A.T))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],decls:20,vars:2,consts:[[1,"container"],[1,"cart"],[1,"title"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf","ngIfElse"],[1,"total"],["mat-button","","color","primary",1,"add-new"],[1,"total-info"],[1,"cart-buttons"],["mat-button","","color","primary"],["mat-raised-button","","color","primary","type","submit"],["void",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","flightCode"],["mat-cell","","class","flight-number",4,"matCellDef"],["matColumnDef","flight"],["mat-header-cell","","class","flight",4,"matHeaderCellDef"],["matColumnDef","typeTrip"],["matColumnDef","dataTime"],["matColumnDef","passengers"],["matColumnDef","price"],["mat-cell","","class","price",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","edit",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","primary",3,"checked","aria-label","click","change"],["mat-cell","",1,"flight-number"],["mat-header-cell","",1,"flight"],[4,"ngIf"],["mat-cell","",1,"price"],["mat-cell","",1,"edit"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Cart"),t.qZA(),t.YNc(4,V,27,3,"table",3),t.TgZ(5,"div",4)(6,"button",5),t._uU(7,"+ Add new trip"),t.qZA(),t.TgZ(8,"div",6)(9,"p"),t._uU(10,"Total "),t.TgZ(11,"span"),t._uU(12,"\u20ac572.34"),t.qZA()()()(),t.TgZ(13,"div",7)(14,"button",8),t._uU(15,"Return to Account"),t.qZA(),t.TgZ(16,"button",9),t._uU(17,"Continue"),t.qZA()()()(),t.YNc(18,tt,1,0,"ng-template",null,10,t.W1O)),2&n){const l=t.MAs(19);t.xp6(4),t.Q6J("ngIf",c.basket[0].flights.length>0)("ngIfElse",l)}},dependencies:[m.O5,g.lW,g.RK,k.Hw,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,U.oG,d.VK,d.OP,d.p6,m.uU],styles:["[_nghost-%COMP%]{width:100%;background:#F1F3F6;margin-top:97px}[_nghost-%COMP%]     .mat-mdc-raised-button:not(:disabled){background-color:#11397e;border-radius:4px;width:126px;height:60px;box-shadow:none}[_nghost-%COMP%]     .mat-mdc-button:not(:disabled){color:#11397e;width:180px;margin:0 20px;height:60px}[_nghost-%COMP%]     .mat-mdc-button:not(:disabled).add-new{width:121px;height:28px;background:#F4F6F9;border-radius:4px}[_nghost-%COMP%]     .mdc-data-table__header-row{background-color:#f5f5f5}[_nghost-%COMP%]     .mat-mdc-header-cell{font-size:18px;line-height:20px}[_nghost-%COMP%]     .mat-mdc-table{box-shadow:none}[_nghost-%COMP%]     .mat-mdc-cell{font-style:normal;font-weight:500;font-size:18px;line-height:32px;align-items:center;letter-spacing:.5px}[_nghost-%COMP%]     .mat-mdc-table .mdc-data-table__row{height:130px}.cart[_ngcontent-%COMP%]{margin-top:40px;background:#FFFFFF;box-shadow:0 1px 4px #0003;border-radius:8px}.cart-buttons[_ngcontent-%COMP%]{text-align:right;margin-top:40px;margin-bottom:40px;padding:0 35px 39px 0}.title[_ngcontent-%COMP%]{padding:20px;font-weight:700;font-size:24px;line-height:28px;color:#11397e}.flight-number[_ngcontent-%COMP%]{font-size:20px;line-height:24px;color:#0090bd;font-weight:700}.price[_ngcontent-%COMP%]{color:#7f8906}.edit[_ngcontent-%COMP%]{padding-right:36px}.add-new[_ngcontent-%COMP%]{color:#11397e;font-weight:500;font-size:16px;line-height:20px;letter-spacing:.1px}.total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 36px;padding:40px 0;border-top:1px solid #E1E5EB;border-bottom:1px solid #E1E5EB}.total-info[_ngcontent-%COMP%]{font-weight:700;font-size:20px;line-height:20px;color:#000}.total-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:30px;line-height:36px;align-items:center;text-align:right;background:linear-gradient(90deg,#11397E 0%,#005ABC 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;margin-left:20px}.flight[_ngcontent-%COMP%]{width:200px}"]}),e})(),canActivate:[o(5473).a]}];let ot=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,T.Bz.forChild(at)]}),e})(),it=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,b.q,ot,x.UX,C.m,i.p0,d.Tx]}),e})()}}]);